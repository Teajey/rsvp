package rsvp // import "github.com/Teajey/rsvp"

CONSTANTS

const (
	SupportedMediaTypePlaintext string = "text/plain"
	SupportedMediaTypeHtml      string = "text/html"
	SupportedMediaTypeCsv       string = "text/csv"
	SupportedMediaTypeBytes     string = "application/octet-stream"
	SupportedMediaTypeJson      string = "application/json"
	SupportedMediaTypeXml       string = "application/xml"
	SupportedMediaTypeGob       string = "application/vnd.golang.gob"
)

VARIABLES

var ErrFailedToMatchHtmlTemplate = errors.New("TemplateName was set, but it failed to match within HtmlTemplate")
var ErrFailedToMatchTextTemplate = errors.New("TemplateName was set, but it failed to match within TextTemplate")

FUNCTIONS

func AdaptHandler(config Config, next Handler) http.Handler

func AdaptHandlerFunc(cfg Config, next HandlerFunc) http.HandlerFunc

func Write(w http.ResponseWriter, cfg Config, r *http.Request, handler HandlerFunc) error

TYPES

type Body struct {
	Data any
	TemplateName string

	// Has unexported fields.
}

func Blank() Body

func Data(data any) Body

func (res *Body) MediaTypes(cfg Config) iter.Seq[string]

func (r Body) StatusAccepted() Body

func (r Body) StatusBadRequest() Body

func (r Body) StatusConflict() Body

func (r Body) StatusCreated(location string) Body

func (r Body) StatusForbidden() Body

func (r Body) StatusFound(location string) Body

func (r Body) StatusGone() Body

func (r Body) StatusInternalServerError() Body

func (r Body) StatusMethodNotAllowed() Body

func (r Body) StatusMovedPermanently(location string) Body

func (r Body) StatusNoContent() Body

func (r Body) StatusNotAcceptable() Body

func (r Body) StatusNotFound() Body

func (r Body) StatusNotImplemented() Body

func (r Body) StatusNotModified() Body

func (r Body) StatusPermanentRedirect(location string) Body

func (r Body) StatusSeeOther(location string) Body

func (r Body) StatusServiceUnavailable() Body

func (r Body) StatusTemporaryRedirect(location string) Body

func (r Body) StatusTooManyRequests() Body

func (r Body) StatusUnauthorized() Body

func (r Body) StatusUnprocessableEntity() Body

type Config struct {
	HtmlTemplate *html.Template
	TextTemplate *text.Template
	JsonPrefix string
	JsonIndent string
	XmlPrefix string
	XmlIndent string
}

type Csv interface {
	MarshalCsv(w *csv.Writer) error
}

type Handler interface {
	ServeHTTP(w ResponseWriter, r *http.Request) Body
}

type HandlerFunc func(w ResponseWriter, r *http.Request) Body

func (f HandlerFunc) ServeHTTP(w ResponseWriter, r *http.Request) Body

type ResponseWriter interface {
	Header() http.Header
	DefaultTemplateName(name string)
}
