package rsvp // import "github.com/Teajey/rsvp"

CONSTANTS

const (
	SupportedMediaTypePlaintext string = "text/plain"
	SupportedMediaTypeHtml      string = "text/html"
	SupportedMediaTypeBytes     string = "application/octet-stream"
	SupportedMediaTypeJson      string = "application/json"
	SupportedMediaTypeXml       string = "application/xml"
	SupportedMediaTypeGob       string = "application/vnd.golang.gob"
)

FUNCTIONS

func Adapt(cfg Config, handler WriterHandler) http.HandlerFunc

func AdaptFunc(cfg Config, handler func(w http.ResponseWriter, r *http.Request) Response) http.HandlerFunc

func AdaptHandler(cfg Config, h Handler) http.HandlerFunc

func AdaptHandlerFunc(cfg Config, h func(h http.Header, r *http.Request) Response) http.HandlerFunc

TYPES

type Config struct {
	HtmlTemplate *html.Template
	TextTemplate *text.Template
}

type Handler interface {
	ServeHTTP(h http.Header, r *http.Request) Response
}

type HandlerFunc func(h http.Header, r *http.Request) Response

func (f HandlerFunc) ServeHTTP(h http.Header, r *http.Request) Response

type Html string

type Response struct {
	Data any
	TemplateName string

	// Has unexported fields.
}

func Blank() Response

func (r Response) StatusAccepted() Response

func (r Response) StatusBadRequest() Response

func (r Response) StatusConflict() Response

func (r Response) StatusCreated(location string) Response

func (r Response) StatusForbidden() Response

func (r Response) StatusFound(location string) Response

func (r Response) StatusGone() Response

func (r Response) StatusInternalServerError() Response

func (r Response) StatusMethodNotAllowed() Response

func (r Response) StatusMovedPermanently(location string) Response

func (r Response) StatusNoContent() Response

func (r Response) StatusNotFound() Response

func (r Response) StatusNotImplemented() Response

func (r Response) StatusNotModified() Response

func (r Response) StatusPermanentRedirect(location string) Response

func (r Response) StatusSeeOther(location string) Response

func (r Response) StatusServiceUnavailable() Response

func (r Response) StatusTemporaryRedirect(location string) Response

func (r Response) StatusTooManyRequests() Response

func (r Response) StatusUnauthorized() Response

func (r Response) StatusUnprocessableEntity() Response

func (res *Response) Write(w http.ResponseWriter, r *http.Request, cfg Config) error

type ServeMux struct {
	Std    *http.ServeMux
	Config Config
}

func NewServeMux() *ServeMux

func (m *ServeMux) Handle(pattern string, handler Handler)

func (m *ServeMux) HandleFunc(pattern string, handler func(http.Header, *http.Request) Response)

func (m *ServeMux) ServeHTTP(w http.ResponseWriter, r *http.Request)

type WriterHandler interface {
	ServeHTTP(w http.ResponseWriter, r *http.Request) Response
}

type WriterHandlerFunc func(w http.ResponseWriter, r *http.Request) Response

func (f WriterHandlerFunc) ServeHTTP(w http.ResponseWriter, r *http.Request) Response
